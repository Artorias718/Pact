/*
Copyright 2015-Present Entando Inc. (http://www.entando.com) All rights reserved.
This library is free software; you can redistribute it and/or modify it under
the terms of the GNU Lesser General Public License as published by the Free
Software Foundation; either version 2.1 of the License, or (at your option)
any later version.
This library is distributed in the hope that it will be useful, but WITHOUT
ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE. See the GNU Lesser General Public License for more
details.
 */
package org.entando.selenium.contracttests;

import au.com.dius.pact.consumer.ConsumerPactBuilder;
import au.com.dius.pact.consumer.Pact;
import au.com.dius.pact.consumer.PactVerificationResult;
import au.com.dius.pact.consumer.dsl.PactDslRequestWithPath;
import au.com.dius.pact.consumer.dsl.PactDslResponse;
import au.com.dius.pact.consumer.dsl.PactDslWithProvider;
import au.com.dius.pact.consumer.junit5.PactConsumerTestExt;
import au.com.dius.pact.consumer.junit5.PactTestFor;
import au.com.dius.pact.model.MockProviderConfig;
import au.com.dius.pact.model.RequestResponsePact;
import org.entando.selenium.pages.*;
import org.entando.selenium.utils.UsersTestBase;
import org.entando.selenium.utils.Utils;
import org.entando.selenium.utils.pageParts.SimpleTable;
import org.junit.Assert;
import org.junit.jupiter.api.BeforeAll;
import org.junit.jupiter.api.Test;
import org.junit.jupiter.api.extension.ExtendWith;
import org.openqa.selenium.By;
import org.openqa.selenium.WebElement;
import org.springframework.beans.factory.annotation.Autowired;

import java.util.List;
import java.util.Random;
import java.util.logging.Level;
import java.util.logging.Logger;

import static au.com.dius.pact.consumer.ConsumerPactRunnerKt.runConsumerTest;
import static org.entando.selenium.contracttests.PactUtil.*;
import static java.lang.Thread.sleep;

@ExtendWith(PactConsumerTestExt.class)
@PactTestFor(providerName = "WidgetsEditProvider", port = "8080")
public class WidgetsEditConsumerTest extends UsersTestBase {
    @Autowired
    public DTDashboardPage dTDashboardPage;

    @Autowired
    public DTWidgetPage dTWidgetPage;

    @Autowired
    public DTWidgetAddPage dTWidgetAddPage;

    @Autowired
    public DTWidgetEditPage dTWidgetEditPage;

    @BeforeAll
    public void setupSessionAndNavigateToUserManagement (){
        PactDslWithProvider builder = ConsumerPactBuilder.consumer("LoginConsumer").hasPactWith("LoginProvider");
        PactDslResponse accessTokenResponse = buildGetAccessToken(builder);
        PactDslResponse getUsersResponse = PactUtil.buildGetUsers(accessTokenResponse,1,1);
        getUsersResponse = PactUtil.buildGetUsers(getUsersResponse,1,10);
        PactDslResponse getPagesResponse = buildGetPages(getUsersResponse);
        PactDslResponse getPageStatusResponse = buildGetPageStatus(getPagesResponse);
        PactDslResponse getWidgetsResponse = buildGetWidgets(getPageStatusResponse,1,0);
        PactDslResponse getGroupsResponse = PactUtil.buildGetGroups(getWidgetsResponse);
        PactDslResponse getPageModelsResponse = buildGetPageModels(getGroupsResponse);
        PactDslResponse getLanguagesResponse = PactUtil.buildGetLanguages(getPageModelsResponse);
        PactDslResponse getRoles = buildGetRoles(getLanguagesResponse, 1, 10);
        PactDslResponse getProfileTypesResponse = buildGetProfileTypes(getRoles);
        MockProviderConfig config = MockProviderConfig.httpConfig("localhost", 8080);
        PactVerificationResult result = runConsumerTest(getProfileTypesResponse.toPact(), config, mockServer -> {
            login();
            dTDashboardPage.SelectSecondOrderLinkWithSleep("UX Patterns", "Widgets");
        });
    }

    @Pact(provider = "WidgetsEditProvider", consumer = "WidgetsEditConsumer")
    public RequestResponsePact createPact(PactDslWithProvider builder) {
        PactDslResponse getWidgetsResponse = buildGetWidgets2(builder,1,0);
        PactDslResponse getLanguagesResponse = buildGetLanguages(getWidgetsResponse);
        PactDslResponse getGroupsResponse = buildGetGroups(getLanguagesResponse);
        PactDslResponse getWidgetToPut = buildGetWidgetToPut(getGroupsResponse);
        PactDslResponse putWidgetResponse = buildPutWidget(getWidgetToPut);
        return putWidgetResponse.toPact();
    }

    public static PactDslResponse buildGetRoles(PactDslResponse builder, int page, int pageSize) {
        PactDslRequestWithPath optionsRequest = builder.uponReceiving("The Groups OPTIONS Interaction")
                .path("/entando/api/roles")
                .method("OPTIONS")
                .headers("Access-control-request-method", "GET")
                .matchQuery("page", "\\d+", "" + page)
                .matchQuery("pageSize",  "\\d+", "" + pageSize);
        PactDslResponse optionsResponse = optionsResponse(optionsRequest);
        PactDslRequestWithPath request = optionsResponse.
                uponReceiving("The User Query GET Interaction")
                .path("/entando/api/roles")
                .method("GET")
                .matchQuery("page", "\\d+", "" + page)
                .matchQuery("pageSize",  "\\d+", ""+pageSize);
        return standardResponse(request, "{\"payload\":[{\"code\":\"unimportant\",\"name\":\"UNIMPORTANT\"}],\"errors\":[],\"metaData\":{\"page\":1,\"pageSize\":10,\"lastPage\":2,\"totalItems\":11,\"sort\":\"code\",\"direction\":\"ASC\",\"filters\":[],\"additionalParams\":{}}}");
    }

    public static PactDslResponse buildGetWidgets(PactDslResponse builder, int page, int pageSize) {
        PactDslRequestWithPath optionsRequest = builder.uponReceiving("The Groups OPTIONS Interaction")
                .path("/entando/api/widgets")
                .method("OPTIONS")
                .headers("Access-control-request-method", "GET")
                .matchQuery("page", "\\d+", "" + page)
                .matchQuery("pageSize",  "\\d+", "" + pageSize);
        PactDslResponse optionsResponse = optionsResponse(optionsRequest);
        PactDslRequestWithPath request = optionsResponse.
                uponReceiving("The User Query GET Interaction")
                .path("/entando/api/widgets")
                .method("GET")
                .matchQuery("page", "\\d+", "" + page)
                .matchQuery("pageSize",  "\\d+", ""+pageSize);
        return standardResponse(request, "{\"payload\":[{\"code\":\"pct\",\"used\":0,\"titles\":{\"en\":\"pct\",\"it\":\"pct\"},\"typology\":\"user\",\"group\":\"gruppo_prova\",\"pluginCode\":null,\"pluginDesc\":null,\"guiFragments\":[],\"hasConfig\":false},\n{\"code\":\"ANN_Archive\",\"used\":0,\"titles\":{\"en\":\"Announcements - Archive\",\"it\":\"Bandi - Archivio\"},\"typology\":\"user\",\"group\":\"free\",\"pluginCode\":null,\"pluginDesc\":null,\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"ANN_Latest\",\"used\":0,\"titles\":{\"en\":\"Announcements - Latest Announcements\",\"it\":\"Bandi - Ultimi Bandi\"},\"typology\":\"user\",\"group\":null,\"pluginCode\":null,\"pluginDesc\":null,\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"NWS_Archive\",\"used\":0,\"titles\":{\"en\":\"News - Archive\",\"it\":\"Notizie - Archivio\"},\"typology\":\"user\",\"group\":null,\"pluginCode\":null,\"pluginDesc\":null,\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"NWS_Latest\",\"used\":0,\"titles\":{\"en\":\"News - Latest News\",\"it\":\"Notizie - Ultime Notizie\"},\"typology\":\"user\",\"group\":null,\"pluginCode\":null,\"pluginDesc\":null,\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"PleaseDoNotUse\",\"used\":0,\"titles\":{\"en\":\"My Widget changed again\",\"it\":\"Mio Widget modificato ancora\"},\"typology\":\"user\",\"group\":\"free\",\"pluginCode\":null,\"pluginDesc\":null,\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"RSL_Archive\",\"used\":0,\"titles\":{\"en\":\"Resolutions - Archive\",\"it\":\"Delibere - Archivio\"},\"typology\":\"user\",\"group\":null,\"pluginCode\":null,\"pluginDesc\":null,\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"RSL_Latest\",\"used\":0,\"titles\":{\"en\":\"Resolutions - Latest Resolutions\",\"it\":\"Delibere - Ultime Delibere\"},\"typology\":\"user\",\"group\":null,\"pluginCode\":null,\"pluginDesc\":null,\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"blog_postlist\",\"used\":0,\"titles\":{\"en\":\"Blog - Post List\",\"it\":\"Blog - Lista Post\"},\"typology\":\"user\",\"group\":\"free\",\"pluginCode\":null,\"pluginDesc\":null,\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"bpm-case-actions\",\"used\":0,\"titles\":{\"en\":\"PAM-Case actions\",\"it\":\"Azioni caso PAM\"},\"typology\":\"jpkiebpm\",\"group\":\"free\",\"pluginCode\":\"jpkiebpm\",\"pluginDesc\":\"Entando Red Hat PAM Connector\",\"guiFragments\":[],\"hasConfig\":true},{\"code\":\"bpm-case-chart\",\"used\":0,\"titles\":{\"en\":\"PAM-Case chart\",\"it\":\"PAM-Case chart\"},\"typology\":\"jpkiebpm\",\"group\":null,\"pluginCode\":\"jpkiebpm\",\"pluginDesc\":\"Entando Red Hat PAM Connector\",\"guiFragments\":[],\"hasConfig\":true},{\"code\":\"bpm-case-comments\",\"used\":0,\"titles\":{\"en\":\"PAM-Case comments\",\"it\":\"Commenti del caso PAM\"},\"typology\":\"jpkiebpm\",\"group\":null,\"pluginCode\":\"jpkiebpm\",\"pluginDesc\":\"Entando Red Hat PAM Connector\",\"guiFragments\":[],\"hasConfig\":true},{\"code\":\"bpm-case-details\",\"used\":0,\"titles\":{\"en\":\"PAM-Case details\",\"it\":\"Dettagli caso PAM\"},\"typology\":\"jpkiebpm\",\"group\":null,\"pluginCode\":\"jpkiebpm\",\"pluginDesc\":\"Entando Red Hat PAM Connector\",\"guiFragments\":[],\"hasConfig\":true},{\"code\":\"bpm-case-file\",\"used\":0,\"titles\":{\"en\":\"PAM-Case file\",\"it\":\"File caso PAM\"},\"typology\":\"jpkiebpm\",\"group\":\"free\",\"pluginCode\":\"jpkiebpm\",\"pluginDesc\":\"Entando Red Hat PAM Connector\",\"guiFragments\":[],\"hasConfig\":true},{\"code\":\"bpm-case-instance-selector\",\"used\":0,\"titles\":{\"en\":\"PAM-Case instance selector\",\"it\":\"Selettore di istanza Case PAM\"},\"typology\":\"jpkiebpm\",\"group\":null,\"pluginCode\":\"jpkiebpm\",\"pluginDesc\":\"Entando Red Hat PAM Connector\",\"guiFragments\":[],\"hasConfig\":true},{\"code\":\"bpm-case-progress-status\",\"used\":0,\"titles\":{\"en\":\"PAM-Case progress status\",\"it\":\"PAM-Case stato del processo\"},\"typology\":\"jpkiebpm\",\"group\":null,\"pluginCode\":\"jpkiebpm\",\"pluginDesc\":\"Entando Red Hat PAM Connector\",\"guiFragments\":[],\"hasConfig\":true},{\"code\":\"bpm-case-roles\",\"used\":0,\"titles\":{\"en\":\"PAM-Case roles\",\"it\":\"Ruoli caso PAM\"},\"typology\":\"jpkiebpm\",\"group\":null,\"pluginCode\":\"jpkiebpm\",\"pluginDesc\":\"Entando Red Hat PAM Connector\",\"guiFragments\":[],\"hasConfig\":true},{\"code\":\"bpm-datatable-process-list\",\"used\":0,\"titles\":{\"en\":\"PAM-Process list\",\"it\":\"PAM-Lista processi\"},\"typology\":\"jpkiebpm\",\"group\":null,\"pluginCode\":\"jpkiebpm\",\"pluginDesc\":\"Entando Red Hat PAM Connector\",\"guiFragments\":[],\"hasConfig\":true},{\"code\":\"bpm-datatable-task-list\",\"used\":0,\"titles\":{\"en\":\"PAM-Datatable Task List\",\"it\":\"PAM-Datatable Task List\"},\"typology\":\"jpkiebpm\",\"group\":null,\"pluginCode\":\"jpkiebpm\",\"pluginDesc\":\"Entando Red Hat PAM Connector\",\"guiFragments\":[],\"hasConfig\":true},{\"code\":\"bpm-datatype-form\",\"used\":0,\"titles\":{\"en\":\"PAM-Form by DataType\",\"it\":\"PAM-Form by DataType\"},\"typology\":\"jpkiebpm\",\"group\":null,\"pluginCode\":\"jpkiebpm\",\"pluginDesc\":\"Entando Red Hat PAM Connector\",\"guiFragments\":[],\"hasConfig\":true},{\"code\":\"bpm-process-diagram\",\"used\":0,\"titles\":{\"en\":\"PAM-Process diagram\",\"it\":\"Diagramma di processo PAM\"},\"typology\":\"jpkiebpm\",\"group\":null,\"pluginCode\":\"jpkiebpm\",\"pluginDesc\":\"Entando Red Hat PAM Connector\",\"guiFragments\":[],\"hasConfig\":true},{\"code\":\"content_feedback_viewer\",\"used\":0,\"titles\":{\"en\":\"Content Feedback - Publish Content\",\"it\":\"Feedback Contenuti - Pubblica un Contenuto\"},\"typology\":\"jpcontentfeedback\",\"group\":null,\"pluginCode\":\"jpcontentfeedback\",\"pluginDesc\":\"Content Feedback\",\"guiFragments\":[],\"hasConfig\":true},{\"code\":\"content_viewer\",\"used\":6,\"titles\":{\"en\":\"Contents - Publish a Content\",\"it\":\"Contenuti - Pubblica un Contenuto\"},\"typology\":\"jacms\",\"group\":\"free\",\"pluginCode\":\"jacms\",\"pluginDesc\":\"Entando CMS\",\"guiFragments\":[],\"hasConfig\":true},{\"code\":\"content_viewer_list\",\"used\":0,\"titles\":{\"en\":\"Contents - Publish a List of Contents\",\"it\":\"Contenuti - Pubblica una Lista di Contenuti\"},\"typology\":\"jacms\",\"group\":null,\"pluginCode\":\"jacms\",\"pluginDesc\":\"Entando CMS\",\"guiFragments\":[],\"hasConfig\":true},{\"code\":\"entando-widget-language_choose_inspinia\",\"used\":6,\"titles\":{\"en\":\"Choose a Language (INSPINIA)\",\"it\":\"Choose a Language (INSPINIA)\"},\"typology\":\"custom\",\"group\":\"free\",\"pluginCode\":null,\"pluginDesc\":null,\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"entando-widget-login_form_inspinia\",\"used\":6,\"titles\":{\"en\":\"Dropdown Sign In (INSPINIA)\",\"it\":\"Dropdown Sign In (INSPINIA)\"},\"typology\":\"custom\",\"group\":\"free\",\"pluginCode\":null,\"pluginDesc\":null,\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"entando-widget-navigation_bar_inspinia\",\"used\":6,\"titles\":{\"en\":\"Navigation - Bar (INSPINIA)\",\"it\":\"Navigazione - Barra Orizzontale (INSPINIA)\"},\"typology\":\"custom\",\"group\":null,\"pluginCode\":null,\"pluginDesc\":null,\"guiFragments\":[],\"hasConfig\":true},{\"code\":\"entando_apis\",\"used\":0,\"titles\":{\"en\":\"APIs\",\"it\":\"APIs\"},\"typology\":\"stock\",\"group\":\"free\",\"pluginCode\":null,\"pluginDesc\":null,\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"formAction\",\"used\":0,\"titles\":{\"en\":\"Internal Servlet\",\"it\":\"Invocazione di una Servlet Interna\"},\"typology\":\"stock\",\"group\":null,\"pluginCode\":null,\"pluginDesc\":null,\"guiFragments\":[],\"hasConfig\":true},{\"code\":\"jpavatar_avatar\",\"used\":0,\"titles\":{\"en\":\"Avatar - Show the current user avatar\",\"it\":\"Avatar - Mostra l'avatar dell'utente corrente\"},\"typology\":\"jpavatar\",\"group\":null,\"pluginCode\":\"jpavatar\",\"pluginDesc\":\"My Avatar\",\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"jpblog_archive\",\"used\":0,\"titles\":{\"en\":\"Blog - Blog Archive\",\"it\":\"Blog- Archivio Blog\"},\"typology\":\"jpblog\",\"group\":\"free\",\"pluginCode\":\"jpblog\",\"pluginDesc\":\"Blog\",\"guiFragments\":[],\"hasConfig\":true},{\"code\":\"jpblog_categories\",\"used\":0,\"titles\":{\"en\":\"Blog - Categories Summary\",\"it\":\"Blog - Riepilogo Categorie\"},\"typology\":\"jpblog\",\"group\":null,\"pluginCode\":\"jpblog\",\"pluginDesc\":\"Blog\",\"guiFragments\":[],\"hasConfig\":true},{\"code\":\"jpblog_post_list\",\"used\":0,\"titles\":{\"en\":\"Blog - Post List\",\"it\":\"Blog - Lista Post\"},\"typology\":\"jpblog\",\"group\":null,\"pluginCode\":\"jpblog\",\"pluginDesc\":\"Blog\",\"guiFragments\":[],\"hasConfig\":true},{\"code\":\"jpcasclient_login\",\"used\":0,\"titles\":{\"en\":\"Login - with CAS\",\"it\":\"Login - con CAS\"},\"typology\":\"jpcasclient\",\"group\":null,\"pluginCode\":\"jpcasclient\",\"pluginDesc\":\"CAS Client\",\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"jpcmstagcloud\",\"used\":0,\"titles\":{\"en\":\"Tag Cloud\",\"it\":\"Tag Cloud\"},\"typology\":\"jpcmstagcloud\",\"group\":null,\"pluginCode\":\"jpcmstagcloud\",\"pluginDesc\":\"Tag Cloud\",\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"jpcmstagcloud_viewer_list\",\"used\":0,\"titles\":{\"en\":\"Publish a List of Tagged Contents\",\"it\":\"Pubblica Lista Contenuti Taggati\"},\"typology\":\"jpcmstagcloud\",\"group\":null,\"pluginCode\":\"jpcmstagcloud\",\"pluginDesc\":\"Tag Cloud\",\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"jpcollaboration_entryIdea\",\"used\":0,\"titles\":{\"en\":\"Collaboration - New Idea\",\"it\":\"Collaboration - Nuova Idea\"},\"typology\":\"jpcollaboration\",\"group\":null,\"pluginCode\":\"jpcollaboration\",\"pluginDesc\":\"Collaboration\",\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"jpcollaboration_fastEntryIdea\",\"used\":0,\"titles\":{\"en\":\"Collaboration - Quick Entry Idea\",\"it\":\"Collaboration - Inserimento Rapido Idea\"},\"typology\":\"jpcollaboration\",\"group\":null,\"pluginCode\":\"jpcollaboration\",\"pluginDesc\":\"Collaboration\",\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"jpcollaboration_idea\",\"used\":0,\"titles\":{\"en\":\"Collaboration - Ideas\",\"it\":\"Collaboration - Dettagli Idea\"},\"typology\":\"jpcollaboration\",\"group\":null,\"pluginCode\":\"jpcollaboration\",\"pluginDesc\":\"Collaboration\",\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"jpcollaboration_ideaInstance\",\"used\":0,\"titles\":{\"en\":\"Collaboration - Publish idea\",\"it\":\"Collaboration - Pubblica istanza\"},\"typology\":\"jpcollaboration\",\"group\":null,\"pluginCode\":\"jpcollaboration\",\"pluginDesc\":\"Collaboration\",\"guiFragments\":[],\"hasConfig\":true},{\"code\":\"jpcollaboration_idea_find\",\"used\":0,\"titles\":{\"en\":\"Collaboration - Search Ideas\",\"it\":\"Collaboration - Ricerca Idea\"},\"typology\":\"jpcollaboration\",\"group\":null,\"pluginCode\":\"jpcollaboration\",\"pluginDesc\":\"Collaboration\",\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"jpcollaboration_idea_tags\",\"used\":2,\"titles\":{\"en\":\"Collaboration - Categories\",\"it\":\"Collaboration - Categorie\"},\"typology\":\"jpcollaboration\",\"group\":\"free\",\"pluginCode\":\"jpcollaboration\",\"pluginDesc\":\"Collaboration\",\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"jpcollaboration_search_result\",\"used\":0,\"titles\":{\"en\":\"Collaboration - Search Result\",\"it\":\"Collaboration - Risultati della ricerca\"},\"typology\":\"jpcollaboration\",\"group\":\"administrators\",\"pluginCode\":\"jpcollaboration\",\"pluginDesc\":\"Collaboration\",\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"jpcollaboration_statistics\",\"used\":0,\"titles\":{\"en\":\"Collaboration - Statistics\",\"it\":\"Collaboration - Statistiche\"},\"typology\":\"jpcollaboration\",\"group\":null,\"pluginCode\":\"jpcollaboration\",\"pluginDesc\":\"Collaboration\",\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"jpgeoref_GoogleListViewer\",\"used\":0,\"titles\":{\"en\":\"Publish contents on Map\",\"it\":\"Pubblicazione contenuti su Mappa\"},\"typology\":\"jpgeoref\",\"group\":null,\"pluginCode\":\"jpgeoref\",\"pluginDesc\":\"GeoReferenced contents\",\"guiFragments\":[],\"hasConfig\":true},{\"code\":\"jpgeoref_GoogleRoute\",\"used\":0,\"titles\":{\"en\":\"Route\",\"it\":\"Tragitto su Mappa\"},\"typology\":\"jpgeoref\",\"group\":null,\"pluginCode\":\"jpgeoref\",\"pluginDesc\":\"GeoReferenced contents\",\"guiFragments\":[],\"hasConfig\":true},{\"code\":\"jpnewsletter_registration\",\"used\":0,\"titles\":{\"en\":\"Newsletter subscription\",\"it\":\"Iscrizione Newsletter\"},\"typology\":\"jpnewsletter\",\"group\":null,\"pluginCode\":\"jpnewsletter\",\"pluginDesc\":\"Newsletter\",\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"jpnewsletter_subscription\",\"used\":0,\"titles\":{\"en\":\"Newsletter subscription confirm\",\"it\":\"Conferma Iscrizione Newsletter\"},\"typology\":\"jpnewsletter\",\"group\":null,\"pluginCode\":\"jpnewsletter\",\"pluginDesc\":\"Newsletter\",\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"jpnewsletter_unsubscription\",\"used\":0,\"titles\":{\"en\":\"Newsletter unsubscription\",\"it\":\"Cancellazione Iscrizione Newsletter\"},\"typology\":\"jpnewsletter\",\"group\":null,\"pluginCode\":\"jpnewsletter\",\"pluginDesc\":\"Newsletter\",\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"jprss_rssChannels\",\"used\":0,\"titles\":{\"en\":\"RSS Channels\",\"it\":\"Canali RSS\"},\"typology\":\"jprss\",\"group\":null,\"pluginCode\":\"jprss\",\"pluginDesc\":\"RSS\",\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"jpseo_content_viewer\",\"used\":0,\"titles\":{\"en\":\"Contents - Publish a Content with extra meta-description\",\"it\":\"Contenuti - Pubblica un Contenuto con extra meta-description\"},\"typology\":\"jpseo\",\"group\":null,\"pluginCode\":\"jpseo\",\"pluginDesc\":\"SEO\",\"guiFragments\":[],\"hasConfig\":true},{\"code\":\"jpsurvey_detailsSurvey\",\"used\":0,\"titles\":{\"en\":\"Questionnaire/Survey - Details\",\"it\":\"Questionari/Sondaggi - Dettaglio\"},\"typology\":\"jpsurvey\",\"group\":null,\"pluginCode\":\"jpsurvey\",\"pluginDesc\":\"Survey - Questionnaire\",\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"jpsurvey_pollArchive\",\"used\":0,\"titles\":{\"en\":\"Surveys - Surveys Archive\",\"it\":\"Sondaggi - Archivio dei Sondaggi\"},\"typology\":\"jpsurvey\",\"group\":null,\"pluginCode\":\"jpsurvey\",\"pluginDesc\":\"Survey - Questionnaire\",\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"jpsurvey_pollList\",\"used\":0,\"titles\":{\"en\":\"Surveys - Active List\",\"it\":\"Sondaggi - Lista Sondaggi Attivi\"},\"typology\":\"jpsurvey\",\"group\":null,\"pluginCode\":\"jpsurvey\",\"pluginDesc\":\"Survey - Questionnaire\",\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"jpsurvey_questionnaireArchive\",\"used\":0,\"titles\":{\"en\":\"Questionnaires - Questionnaires Archive\",\"it\":\"Questionari - Archivio dei Questionari\"},\"typology\":\"jpsurvey\",\"group\":null,\"pluginCode\":\"jpsurvey\",\"pluginDesc\":\"Survey - Questionnaire\",\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"jpsurvey_questionnaireList\",\"used\":0,\"titles\":{\"en\":\"Questionnaires - Active List\",\"it\":\"Questionari - Lista Questionari Attivi\"},\"typology\":\"jpsurvey\",\"group\":null,\"pluginCode\":\"jpsurvey\",\"pluginDesc\":\"Survey - Questionnaire\",\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"jpsurvey_resultsSurvey\",\"used\":0,\"titles\":{\"en\":\"Questionnaire/Survey - Show Results\",\"it\":\"Questionario/Sondaggio - Mostra Risultati\"},\"typology\":\"jpsurvey\",\"group\":null,\"pluginCode\":\"jpsurvey\",\"pluginDesc\":\"Survey - Questionnaire\",\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"jptokenapi_myToken\",\"used\":0,\"titles\":{\"en\":\"My API Token\",\"it\":\"My API Token\"},\"typology\":\"jptokenapi\",\"group\":null,\"pluginCode\":\"jptokenapi\",\"pluginDesc\":\"Token API\",\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"jpuserreg_Activation\",\"used\":0,\"titles\":{\"en\":\"User Activation\",\"it\":\"Attivazione Utente\"},\"typology\":\"jpuserreg\",\"group\":null,\"pluginCode\":\"jpuserreg\",\"pluginDesc\":\"User Registration\",\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"jpuserreg_Reactivation\",\"used\":0,\"titles\":{\"en\":\"User Reactivation\",\"it\":\"Riattivazione Utente\"},\"typology\":\"jpuserreg\",\"group\":null,\"pluginCode\":\"jpuserreg\",\"pluginDesc\":\"User Registration\",\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"jpuserreg_Recover\",\"used\":0,\"titles\":{\"en\":\"User Recover\",\"it\":\"Recupero Utenza\"},\"typology\":\"jpuserreg\",\"group\":null,\"pluginCode\":\"jpuserreg\",\"pluginDesc\":\"User Registration\",\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"jpuserreg_Registration\",\"used\":0,\"titles\":{\"en\":\"User Registration\",\"it\":\"Registrazione Utente\"},\"typology\":\"jpuserreg\",\"group\":null,\"pluginCode\":\"jpuserreg\",\"pluginDesc\":\"User Registration\",\"guiFragments\":[],\"hasConfig\":true},{\"code\":\"jpuserreg_Suspension\",\"used\":0,\"titles\":{\"en\":\"User Suspension\",\"it\":\"Sospensione Utente\"},\"typology\":\"jpuserreg\",\"group\":null,\"pluginCode\":\"jpuserreg\",\"pluginDesc\":\"User Registration\",\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"jpuserreg_loginUserReg\",\"used\":0,\"titles\":{\"en\":\"Login Form - With registration management\",\"it\":\"Form di login - Con gestione registrazione\"},\"typology\":\"jpuserreg\",\"group\":null,\"pluginCode\":\"jpuserreg\",\"pluginDesc\":\"User Registration\",\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"jpuserreg_profile_choice\",\"used\":0,\"titles\":{\"en\":\"User Registration - with profile choice\",\"it\":\"Registrazione Utente - con scelta del profilo\"},\"typology\":\"jpuserreg\",\"group\":null,\"pluginCode\":\"jpuserreg\",\"pluginDesc\":\"User Registration\",\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"jpwebdynamicform_message_choice\",\"used\":0,\"titles\":{\"en\":\"Dynamic Web Forms - Choice of a type of Message\",\"it\":\"Dynamic Web Forms - Scelta tipo di Messaggio\"},\"typology\":\"jpwebdynamicform\",\"group\":null,\"pluginCode\":\"jpwebdynamicform\",\"pluginDesc\":\"Web Dynamic Forms\",\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"jpwebdynamicform_message_form\",\"used\":0,\"titles\":{\"en\":\"Dynamic Web Forms - Publish the form for a Message Type\",\"it\":\"Dynamic Web Forms - Pubblica il form di un tipo di Messaggio\"},\"typology\":\"jpwebdynamicform\",\"group\":null,\"pluginCode\":\"jpwebdynamicform\",\"pluginDesc\":\"Web Dynamic Forms\",\"guiFragments\":[],\"hasConfig\":true},{\"code\":\"jpwidgetutils_iframe\",\"used\":0,\"titles\":{\"en\":\"IFrame\",\"it\":\"IFrame\"},\"typology\":\"jpwidgetutils\",\"group\":null,\"pluginCode\":\"jpwidgetutils\",\"pluginDesc\":\"Widget Utils\",\"guiFragments\":[],\"hasConfig\":true},{\"code\":\"jpwidgetutils_replicator\",\"used\":0,\"titles\":{\"en\":\"Widget Replicator\",\"it\":\"Replicatore di Widget\"},\"typology\":\"jpwidgetutils\",\"group\":null,\"pluginCode\":\"jpwidgetutils\",\"pluginDesc\":\"Widget Utils\",\"guiFragments\":[],\"hasConfig\":true},{\"code\":\"login_form\",\"used\":0,\"titles\":{\"en\":\"Login Form\",\"it\":\"Form di Login\"},\"typology\":\"stock\",\"group\":null,\"pluginCode\":null,\"pluginDesc\":null,\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"messages_system\",\"used\":0,\"titles\":{\"en\":\"System Messages\",\"it\":\"Messaggi di Sistema\"},\"typology\":\"stock\",\"group\":null,\"pluginCode\":null,\"pluginDesc\":null,\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"row_content_viewer_list\",\"used\":0,\"titles\":{\"en\":\"Contents - Publish Contents\",\"it\":\"Contenuti - Pubblica Contenuti\"},\"typology\":\"jacms\",\"group\":\"free\",\"pluginCode\":\"jacms\",\"pluginDesc\":\"Entando CMS\",\"guiFragments\":[],\"hasConfig\":true},{\"code\":\"search_result\",\"used\":0,\"titles\":{\"en\":\"Search - Search Result\",\"it\":\"Ricerca - Risultati della Ricerca\"},\"typology\":\"jacms\",\"group\":null,\"pluginCode\":\"jacms\",\"pluginDesc\":\"Entando CMS\",\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"seleniumtest_donttouch\",\"used\":0,\"titles\":{\"en\":\"SeleniumTest_DontTouch\",\"it\":\"SeleniumTest_DontTouch\"},\"typology\":\"user\",\"group\":\"free\",\"pluginCode\":null,\"pluginDesc\":null,\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"testw\",\"used\":0,\"titles\":{\"en\":\"TestWidget\",\"it\":\"TestWidget\"},\"typology\":\"user\",\"group\":\"free\",\"pluginCode\":null,\"pluginDesc\":null,\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"testw_se\",\"used\":0,\"titles\":{\"en\":\"TestWidget_se\",\"it\":\"TestWidget_se\"},\"typology\":\"user\",\"group\":\"free\",\"pluginCode\":null,\"pluginDesc\":null,\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"testwidget2\",\"used\":0,\"titles\":{\"en\":\"TestWidget2\",\"it\":\"TestWidget2\"},\"typology\":\"user\",\"group\":\"free\",\"pluginCode\":null,\"pluginDesc\":null,\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"userprofile_editCurrentUser\",\"used\":0,\"titles\":{\"en\":\"Edit Current User\",\"it\":\"Edita Utente Corrente\"},\"typology\":\"custom\",\"group\":null,\"pluginCode\":null,\"pluginDesc\":null,\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"userprofile_editCurrentUser_password\",\"used\":0,\"titles\":{\"en\":\"Edit Current User Password\",\"it\":\"Edita Password Utente Corrente\"},\"typology\":\"custom\",\"group\":null,\"pluginCode\":null,\"pluginDesc\":null,\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"userprofile_editCurrentUser_profile\",\"used\":0,\"titles\":{\"en\":\"Edit Current User Profile\",\"it\":\"Edita Profilo Utente Corrente\"},\"typology\":\"custom\",\"group\":null,\"pluginCode\":null,\"pluginDesc\":null,\"guiFragments\":[],\"hasConfig\":false}],\"errors\":[],\"metaData\":{\"page\":1,\"pageSize\":100,\"lastPage\":1,\"totalItems\":79,\"sort\":\"code\",\"direction\":\"ASC\",\"filters\":[],\"additionalParams\":{}}}");
    }

    public static PactDslResponse buildGetWidgets2(PactDslWithProvider builder, int page, int pageSize) {
        PactDslRequestWithPath request = builder.
                uponReceiving("The User Query GET Interaction")
                .path("/entando/api/widgets")
                .method("GET")
                .matchQuery("page", "\\d+", "" + page)
                .matchQuery("pageSize",  "\\d+", ""+pageSize);
        return standardResponse(request, "{\"payload\":[{\"code\":\"pct\",\"used\":0,\"titles\":{\"en\":\"pct\",\"it\":\"pct\"},\"typology\":\"user\",\"group\":\"gruppo_prova\",\"pluginCode\":null,\"pluginDesc\":null,\"guiFragments\":[],\"hasConfig\":false},\n{\"code\":\"ANN_Archive\",\"used\":0,\"titles\":{\"en\":\"Announcements - Archive\",\"it\":\"Bandi - Archivio\"},\"typology\":\"user\",\"group\":\"free\",\"pluginCode\":null,\"pluginDesc\":null,\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"ANN_Latest\",\"used\":0,\"titles\":{\"en\":\"Announcements - Latest Announcements\",\"it\":\"Bandi - Ultimi Bandi\"},\"typology\":\"user\",\"group\":null,\"pluginCode\":null,\"pluginDesc\":null,\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"NWS_Archive\",\"used\":0,\"titles\":{\"en\":\"News - Archive\",\"it\":\"Notizie - Archivio\"},\"typology\":\"user\",\"group\":null,\"pluginCode\":null,\"pluginDesc\":null,\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"NWS_Latest\",\"used\":0,\"titles\":{\"en\":\"News - Latest News\",\"it\":\"Notizie - Ultime Notizie\"},\"typology\":\"user\",\"group\":null,\"pluginCode\":null,\"pluginDesc\":null,\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"PleaseDoNotUse\",\"used\":0,\"titles\":{\"en\":\"My Widget changed again\",\"it\":\"Mio Widget modificato ancora\"},\"typology\":\"user\",\"group\":\"free\",\"pluginCode\":null,\"pluginDesc\":null,\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"RSL_Archive\",\"used\":0,\"titles\":{\"en\":\"Resolutions - Archive\",\"it\":\"Delibere - Archivio\"},\"typology\":\"user\",\"group\":null,\"pluginCode\":null,\"pluginDesc\":null,\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"RSL_Latest\",\"used\":0,\"titles\":{\"en\":\"Resolutions - Latest Resolutions\",\"it\":\"Delibere - Ultime Delibere\"},\"typology\":\"user\",\"group\":null,\"pluginCode\":null,\"pluginDesc\":null,\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"blog_postlist\",\"used\":0,\"titles\":{\"en\":\"Blog - Post List\",\"it\":\"Blog - Lista Post\"},\"typology\":\"user\",\"group\":\"free\",\"pluginCode\":null,\"pluginDesc\":null,\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"bpm-case-actions\",\"used\":0,\"titles\":{\"en\":\"PAM-Case actions\",\"it\":\"Azioni caso PAM\"},\"typology\":\"jpkiebpm\",\"group\":\"free\",\"pluginCode\":\"jpkiebpm\",\"pluginDesc\":\"Entando Red Hat PAM Connector\",\"guiFragments\":[],\"hasConfig\":true},{\"code\":\"bpm-case-chart\",\"used\":0,\"titles\":{\"en\":\"PAM-Case chart\",\"it\":\"PAM-Case chart\"},\"typology\":\"jpkiebpm\",\"group\":null,\"pluginCode\":\"jpkiebpm\",\"pluginDesc\":\"Entando Red Hat PAM Connector\",\"guiFragments\":[],\"hasConfig\":true},{\"code\":\"bpm-case-comments\",\"used\":0,\"titles\":{\"en\":\"PAM-Case comments\",\"it\":\"Commenti del caso PAM\"},\"typology\":\"jpkiebpm\",\"group\":null,\"pluginCode\":\"jpkiebpm\",\"pluginDesc\":\"Entando Red Hat PAM Connector\",\"guiFragments\":[],\"hasConfig\":true},{\"code\":\"bpm-case-details\",\"used\":0,\"titles\":{\"en\":\"PAM-Case details\",\"it\":\"Dettagli caso PAM\"},\"typology\":\"jpkiebpm\",\"group\":null,\"pluginCode\":\"jpkiebpm\",\"pluginDesc\":\"Entando Red Hat PAM Connector\",\"guiFragments\":[],\"hasConfig\":true},{\"code\":\"bpm-case-file\",\"used\":0,\"titles\":{\"en\":\"PAM-Case file\",\"it\":\"File caso PAM\"},\"typology\":\"jpkiebpm\",\"group\":\"free\",\"pluginCode\":\"jpkiebpm\",\"pluginDesc\":\"Entando Red Hat PAM Connector\",\"guiFragments\":[],\"hasConfig\":true},{\"code\":\"bpm-case-instance-selector\",\"used\":0,\"titles\":{\"en\":\"PAM-Case instance selector\",\"it\":\"Selettore di istanza Case PAM\"},\"typology\":\"jpkiebpm\",\"group\":null,\"pluginCode\":\"jpkiebpm\",\"pluginDesc\":\"Entando Red Hat PAM Connector\",\"guiFragments\":[],\"hasConfig\":true},{\"code\":\"bpm-case-progress-status\",\"used\":0,\"titles\":{\"en\":\"PAM-Case progress status\",\"it\":\"PAM-Case stato del processo\"},\"typology\":\"jpkiebpm\",\"group\":null,\"pluginCode\":\"jpkiebpm\",\"pluginDesc\":\"Entando Red Hat PAM Connector\",\"guiFragments\":[],\"hasConfig\":true},{\"code\":\"bpm-case-roles\",\"used\":0,\"titles\":{\"en\":\"PAM-Case roles\",\"it\":\"Ruoli caso PAM\"},\"typology\":\"jpkiebpm\",\"group\":null,\"pluginCode\":\"jpkiebpm\",\"pluginDesc\":\"Entando Red Hat PAM Connector\",\"guiFragments\":[],\"hasConfig\":true},{\"code\":\"bpm-datatable-process-list\",\"used\":0,\"titles\":{\"en\":\"PAM-Process list\",\"it\":\"PAM-Lista processi\"},\"typology\":\"jpkiebpm\",\"group\":null,\"pluginCode\":\"jpkiebpm\",\"pluginDesc\":\"Entando Red Hat PAM Connector\",\"guiFragments\":[],\"hasConfig\":true},{\"code\":\"bpm-datatable-task-list\",\"used\":0,\"titles\":{\"en\":\"PAM-Datatable Task List\",\"it\":\"PAM-Datatable Task List\"},\"typology\":\"jpkiebpm\",\"group\":null,\"pluginCode\":\"jpkiebpm\",\"pluginDesc\":\"Entando Red Hat PAM Connector\",\"guiFragments\":[],\"hasConfig\":true},{\"code\":\"bpm-datatype-form\",\"used\":0,\"titles\":{\"en\":\"PAM-Form by DataType\",\"it\":\"PAM-Form by DataType\"},\"typology\":\"jpkiebpm\",\"group\":null,\"pluginCode\":\"jpkiebpm\",\"pluginDesc\":\"Entando Red Hat PAM Connector\",\"guiFragments\":[],\"hasConfig\":true},{\"code\":\"bpm-process-diagram\",\"used\":0,\"titles\":{\"en\":\"PAM-Process diagram\",\"it\":\"Diagramma di processo PAM\"},\"typology\":\"jpkiebpm\",\"group\":null,\"pluginCode\":\"jpkiebpm\",\"pluginDesc\":\"Entando Red Hat PAM Connector\",\"guiFragments\":[],\"hasConfig\":true},{\"code\":\"content_feedback_viewer\",\"used\":0,\"titles\":{\"en\":\"Content Feedback - Publish Content\",\"it\":\"Feedback Contenuti - Pubblica un Contenuto\"},\"typology\":\"jpcontentfeedback\",\"group\":null,\"pluginCode\":\"jpcontentfeedback\",\"pluginDesc\":\"Content Feedback\",\"guiFragments\":[],\"hasConfig\":true},{\"code\":\"content_viewer\",\"used\":6,\"titles\":{\"en\":\"Contents - Publish a Content\",\"it\":\"Contenuti - Pubblica un Contenuto\"},\"typology\":\"jacms\",\"group\":\"free\",\"pluginCode\":\"jacms\",\"pluginDesc\":\"Entando CMS\",\"guiFragments\":[],\"hasConfig\":true},{\"code\":\"content_viewer_list\",\"used\":0,\"titles\":{\"en\":\"Contents - Publish a List of Contents\",\"it\":\"Contenuti - Pubblica una Lista di Contenuti\"},\"typology\":\"jacms\",\"group\":null,\"pluginCode\":\"jacms\",\"pluginDesc\":\"Entando CMS\",\"guiFragments\":[],\"hasConfig\":true},{\"code\":\"entando-widget-language_choose_inspinia\",\"used\":6,\"titles\":{\"en\":\"Choose a Language (INSPINIA)\",\"it\":\"Choose a Language (INSPINIA)\"},\"typology\":\"custom\",\"group\":\"free\",\"pluginCode\":null,\"pluginDesc\":null,\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"entando-widget-login_form_inspinia\",\"used\":6,\"titles\":{\"en\":\"Dropdown Sign In (INSPINIA)\",\"it\":\"Dropdown Sign In (INSPINIA)\"},\"typology\":\"custom\",\"group\":\"free\",\"pluginCode\":null,\"pluginDesc\":null,\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"entando-widget-navigation_bar_inspinia\",\"used\":6,\"titles\":{\"en\":\"Navigation - Bar (INSPINIA)\",\"it\":\"Navigazione - Barra Orizzontale (INSPINIA)\"},\"typology\":\"custom\",\"group\":null,\"pluginCode\":null,\"pluginDesc\":null,\"guiFragments\":[],\"hasConfig\":true},{\"code\":\"entando_apis\",\"used\":0,\"titles\":{\"en\":\"APIs\",\"it\":\"APIs\"},\"typology\":\"stock\",\"group\":\"free\",\"pluginCode\":null,\"pluginDesc\":null,\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"formAction\",\"used\":0,\"titles\":{\"en\":\"Internal Servlet\",\"it\":\"Invocazione di una Servlet Interna\"},\"typology\":\"stock\",\"group\":null,\"pluginCode\":null,\"pluginDesc\":null,\"guiFragments\":[],\"hasConfig\":true},{\"code\":\"jpavatar_avatar\",\"used\":0,\"titles\":{\"en\":\"Avatar - Show the current user avatar\",\"it\":\"Avatar - Mostra l'avatar dell'utente corrente\"},\"typology\":\"jpavatar\",\"group\":null,\"pluginCode\":\"jpavatar\",\"pluginDesc\":\"My Avatar\",\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"jpblog_archive\",\"used\":0,\"titles\":{\"en\":\"Blog - Blog Archive\",\"it\":\"Blog- Archivio Blog\"},\"typology\":\"jpblog\",\"group\":\"free\",\"pluginCode\":\"jpblog\",\"pluginDesc\":\"Blog\",\"guiFragments\":[],\"hasConfig\":true},{\"code\":\"jpblog_categories\",\"used\":0,\"titles\":{\"en\":\"Blog - Categories Summary\",\"it\":\"Blog - Riepilogo Categorie\"},\"typology\":\"jpblog\",\"group\":null,\"pluginCode\":\"jpblog\",\"pluginDesc\":\"Blog\",\"guiFragments\":[],\"hasConfig\":true},{\"code\":\"jpblog_post_list\",\"used\":0,\"titles\":{\"en\":\"Blog - Post List\",\"it\":\"Blog - Lista Post\"},\"typology\":\"jpblog\",\"group\":null,\"pluginCode\":\"jpblog\",\"pluginDesc\":\"Blog\",\"guiFragments\":[],\"hasConfig\":true},{\"code\":\"jpcasclient_login\",\"used\":0,\"titles\":{\"en\":\"Login - with CAS\",\"it\":\"Login - con CAS\"},\"typology\":\"jpcasclient\",\"group\":null,\"pluginCode\":\"jpcasclient\",\"pluginDesc\":\"CAS Client\",\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"jpcmstagcloud\",\"used\":0,\"titles\":{\"en\":\"Tag Cloud\",\"it\":\"Tag Cloud\"},\"typology\":\"jpcmstagcloud\",\"group\":null,\"pluginCode\":\"jpcmstagcloud\",\"pluginDesc\":\"Tag Cloud\",\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"jpcmstagcloud_viewer_list\",\"used\":0,\"titles\":{\"en\":\"Publish a List of Tagged Contents\",\"it\":\"Pubblica Lista Contenuti Taggati\"},\"typology\":\"jpcmstagcloud\",\"group\":null,\"pluginCode\":\"jpcmstagcloud\",\"pluginDesc\":\"Tag Cloud\",\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"jpcollaboration_entryIdea\",\"used\":0,\"titles\":{\"en\":\"Collaboration - New Idea\",\"it\":\"Collaboration - Nuova Idea\"},\"typology\":\"jpcollaboration\",\"group\":null,\"pluginCode\":\"jpcollaboration\",\"pluginDesc\":\"Collaboration\",\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"jpcollaboration_fastEntryIdea\",\"used\":0,\"titles\":{\"en\":\"Collaboration - Quick Entry Idea\",\"it\":\"Collaboration - Inserimento Rapido Idea\"},\"typology\":\"jpcollaboration\",\"group\":null,\"pluginCode\":\"jpcollaboration\",\"pluginDesc\":\"Collaboration\",\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"jpcollaboration_idea\",\"used\":0,\"titles\":{\"en\":\"Collaboration - Ideas\",\"it\":\"Collaboration - Dettagli Idea\"},\"typology\":\"jpcollaboration\",\"group\":null,\"pluginCode\":\"jpcollaboration\",\"pluginDesc\":\"Collaboration\",\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"jpcollaboration_ideaInstance\",\"used\":0,\"titles\":{\"en\":\"Collaboration - Publish idea\",\"it\":\"Collaboration - Pubblica istanza\"},\"typology\":\"jpcollaboration\",\"group\":null,\"pluginCode\":\"jpcollaboration\",\"pluginDesc\":\"Collaboration\",\"guiFragments\":[],\"hasConfig\":true},{\"code\":\"jpcollaboration_idea_find\",\"used\":0,\"titles\":{\"en\":\"Collaboration - Search Ideas\",\"it\":\"Collaboration - Ricerca Idea\"},\"typology\":\"jpcollaboration\",\"group\":null,\"pluginCode\":\"jpcollaboration\",\"pluginDesc\":\"Collaboration\",\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"jpcollaboration_idea_tags\",\"used\":2,\"titles\":{\"en\":\"Collaboration - Categories\",\"it\":\"Collaboration - Categorie\"},\"typology\":\"jpcollaboration\",\"group\":\"free\",\"pluginCode\":\"jpcollaboration\",\"pluginDesc\":\"Collaboration\",\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"jpcollaboration_search_result\",\"used\":0,\"titles\":{\"en\":\"Collaboration - Search Result\",\"it\":\"Collaboration - Risultati della ricerca\"},\"typology\":\"jpcollaboration\",\"group\":\"administrators\",\"pluginCode\":\"jpcollaboration\",\"pluginDesc\":\"Collaboration\",\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"jpcollaboration_statistics\",\"used\":0,\"titles\":{\"en\":\"Collaboration - Statistics\",\"it\":\"Collaboration - Statistiche\"},\"typology\":\"jpcollaboration\",\"group\":null,\"pluginCode\":\"jpcollaboration\",\"pluginDesc\":\"Collaboration\",\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"jpgeoref_GoogleListViewer\",\"used\":0,\"titles\":{\"en\":\"Publish contents on Map\",\"it\":\"Pubblicazione contenuti su Mappa\"},\"typology\":\"jpgeoref\",\"group\":null,\"pluginCode\":\"jpgeoref\",\"pluginDesc\":\"GeoReferenced contents\",\"guiFragments\":[],\"hasConfig\":true},{\"code\":\"jpgeoref_GoogleRoute\",\"used\":0,\"titles\":{\"en\":\"Route\",\"it\":\"Tragitto su Mappa\"},\"typology\":\"jpgeoref\",\"group\":null,\"pluginCode\":\"jpgeoref\",\"pluginDesc\":\"GeoReferenced contents\",\"guiFragments\":[],\"hasConfig\":true},{\"code\":\"jpnewsletter_registration\",\"used\":0,\"titles\":{\"en\":\"Newsletter subscription\",\"it\":\"Iscrizione Newsletter\"},\"typology\":\"jpnewsletter\",\"group\":null,\"pluginCode\":\"jpnewsletter\",\"pluginDesc\":\"Newsletter\",\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"jpnewsletter_subscription\",\"used\":0,\"titles\":{\"en\":\"Newsletter subscription confirm\",\"it\":\"Conferma Iscrizione Newsletter\"},\"typology\":\"jpnewsletter\",\"group\":null,\"pluginCode\":\"jpnewsletter\",\"pluginDesc\":\"Newsletter\",\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"jpnewsletter_unsubscription\",\"used\":0,\"titles\":{\"en\":\"Newsletter unsubscription\",\"it\":\"Cancellazione Iscrizione Newsletter\"},\"typology\":\"jpnewsletter\",\"group\":null,\"pluginCode\":\"jpnewsletter\",\"pluginDesc\":\"Newsletter\",\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"jprss_rssChannels\",\"used\":0,\"titles\":{\"en\":\"RSS Channels\",\"it\":\"Canali RSS\"},\"typology\":\"jprss\",\"group\":null,\"pluginCode\":\"jprss\",\"pluginDesc\":\"RSS\",\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"jpseo_content_viewer\",\"used\":0,\"titles\":{\"en\":\"Contents - Publish a Content with extra meta-description\",\"it\":\"Contenuti - Pubblica un Contenuto con extra meta-description\"},\"typology\":\"jpseo\",\"group\":null,\"pluginCode\":\"jpseo\",\"pluginDesc\":\"SEO\",\"guiFragments\":[],\"hasConfig\":true},{\"code\":\"jpsurvey_detailsSurvey\",\"used\":0,\"titles\":{\"en\":\"Questionnaire/Survey - Details\",\"it\":\"Questionari/Sondaggi - Dettaglio\"},\"typology\":\"jpsurvey\",\"group\":null,\"pluginCode\":\"jpsurvey\",\"pluginDesc\":\"Survey - Questionnaire\",\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"jpsurvey_pollArchive\",\"used\":0,\"titles\":{\"en\":\"Surveys - Surveys Archive\",\"it\":\"Sondaggi - Archivio dei Sondaggi\"},\"typology\":\"jpsurvey\",\"group\":null,\"pluginCode\":\"jpsurvey\",\"pluginDesc\":\"Survey - Questionnaire\",\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"jpsurvey_pollList\",\"used\":0,\"titles\":{\"en\":\"Surveys - Active List\",\"it\":\"Sondaggi - Lista Sondaggi Attivi\"},\"typology\":\"jpsurvey\",\"group\":null,\"pluginCode\":\"jpsurvey\",\"pluginDesc\":\"Survey - Questionnaire\",\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"jpsurvey_questionnaireArchive\",\"used\":0,\"titles\":{\"en\":\"Questionnaires - Questionnaires Archive\",\"it\":\"Questionari - Archivio dei Questionari\"},\"typology\":\"jpsurvey\",\"group\":null,\"pluginCode\":\"jpsurvey\",\"pluginDesc\":\"Survey - Questionnaire\",\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"jpsurvey_questionnaireList\",\"used\":0,\"titles\":{\"en\":\"Questionnaires - Active List\",\"it\":\"Questionari - Lista Questionari Attivi\"},\"typology\":\"jpsurvey\",\"group\":null,\"pluginCode\":\"jpsurvey\",\"pluginDesc\":\"Survey - Questionnaire\",\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"jpsurvey_resultsSurvey\",\"used\":0,\"titles\":{\"en\":\"Questionnaire/Survey - Show Results\",\"it\":\"Questionario/Sondaggio - Mostra Risultati\"},\"typology\":\"jpsurvey\",\"group\":null,\"pluginCode\":\"jpsurvey\",\"pluginDesc\":\"Survey - Questionnaire\",\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"jptokenapi_myToken\",\"used\":0,\"titles\":{\"en\":\"My API Token\",\"it\":\"My API Token\"},\"typology\":\"jptokenapi\",\"group\":null,\"pluginCode\":\"jptokenapi\",\"pluginDesc\":\"Token API\",\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"jpuserreg_Activation\",\"used\":0,\"titles\":{\"en\":\"User Activation\",\"it\":\"Attivazione Utente\"},\"typology\":\"jpuserreg\",\"group\":null,\"pluginCode\":\"jpuserreg\",\"pluginDesc\":\"User Registration\",\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"jpuserreg_Reactivation\",\"used\":0,\"titles\":{\"en\":\"User Reactivation\",\"it\":\"Riattivazione Utente\"},\"typology\":\"jpuserreg\",\"group\":null,\"pluginCode\":\"jpuserreg\",\"pluginDesc\":\"User Registration\",\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"jpuserreg_Recover\",\"used\":0,\"titles\":{\"en\":\"User Recover\",\"it\":\"Recupero Utenza\"},\"typology\":\"jpuserreg\",\"group\":null,\"pluginCode\":\"jpuserreg\",\"pluginDesc\":\"User Registration\",\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"jpuserreg_Registration\",\"used\":0,\"titles\":{\"en\":\"User Registration\",\"it\":\"Registrazione Utente\"},\"typology\":\"jpuserreg\",\"group\":null,\"pluginCode\":\"jpuserreg\",\"pluginDesc\":\"User Registration\",\"guiFragments\":[],\"hasConfig\":true},{\"code\":\"jpuserreg_Suspension\",\"used\":0,\"titles\":{\"en\":\"User Suspension\",\"it\":\"Sospensione Utente\"},\"typology\":\"jpuserreg\",\"group\":null,\"pluginCode\":\"jpuserreg\",\"pluginDesc\":\"User Registration\",\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"jpuserreg_loginUserReg\",\"used\":0,\"titles\":{\"en\":\"Login Form - With registration management\",\"it\":\"Form di login - Con gestione registrazione\"},\"typology\":\"jpuserreg\",\"group\":null,\"pluginCode\":\"jpuserreg\",\"pluginDesc\":\"User Registration\",\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"jpuserreg_profile_choice\",\"used\":0,\"titles\":{\"en\":\"User Registration - with profile choice\",\"it\":\"Registrazione Utente - con scelta del profilo\"},\"typology\":\"jpuserreg\",\"group\":null,\"pluginCode\":\"jpuserreg\",\"pluginDesc\":\"User Registration\",\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"jpwebdynamicform_message_choice\",\"used\":0,\"titles\":{\"en\":\"Dynamic Web Forms - Choice of a type of Message\",\"it\":\"Dynamic Web Forms - Scelta tipo di Messaggio\"},\"typology\":\"jpwebdynamicform\",\"group\":null,\"pluginCode\":\"jpwebdynamicform\",\"pluginDesc\":\"Web Dynamic Forms\",\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"jpwebdynamicform_message_form\",\"used\":0,\"titles\":{\"en\":\"Dynamic Web Forms - Publish the form for a Message Type\",\"it\":\"Dynamic Web Forms - Pubblica il form di un tipo di Messaggio\"},\"typology\":\"jpwebdynamicform\",\"group\":null,\"pluginCode\":\"jpwebdynamicform\",\"pluginDesc\":\"Web Dynamic Forms\",\"guiFragments\":[],\"hasConfig\":true},{\"code\":\"jpwidgetutils_iframe\",\"used\":0,\"titles\":{\"en\":\"IFrame\",\"it\":\"IFrame\"},\"typology\":\"jpwidgetutils\",\"group\":null,\"pluginCode\":\"jpwidgetutils\",\"pluginDesc\":\"Widget Utils\",\"guiFragments\":[],\"hasConfig\":true},{\"code\":\"jpwidgetutils_replicator\",\"used\":0,\"titles\":{\"en\":\"Widget Replicator\",\"it\":\"Replicatore di Widget\"},\"typology\":\"jpwidgetutils\",\"group\":null,\"pluginCode\":\"jpwidgetutils\",\"pluginDesc\":\"Widget Utils\",\"guiFragments\":[],\"hasConfig\":true},{\"code\":\"login_form\",\"used\":0,\"titles\":{\"en\":\"Login Form\",\"it\":\"Form di Login\"},\"typology\":\"stock\",\"group\":null,\"pluginCode\":null,\"pluginDesc\":null,\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"messages_system\",\"used\":0,\"titles\":{\"en\":\"System Messages\",\"it\":\"Messaggi di Sistema\"},\"typology\":\"stock\",\"group\":null,\"pluginCode\":null,\"pluginDesc\":null,\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"row_content_viewer_list\",\"used\":0,\"titles\":{\"en\":\"Contents - Publish Contents\",\"it\":\"Contenuti - Pubblica Contenuti\"},\"typology\":\"jacms\",\"group\":\"free\",\"pluginCode\":\"jacms\",\"pluginDesc\":\"Entando CMS\",\"guiFragments\":[],\"hasConfig\":true},{\"code\":\"search_result\",\"used\":0,\"titles\":{\"en\":\"Search - Search Result\",\"it\":\"Ricerca - Risultati della Ricerca\"},\"typology\":\"jacms\",\"group\":null,\"pluginCode\":\"jacms\",\"pluginDesc\":\"Entando CMS\",\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"seleniumtest_donttouch\",\"used\":0,\"titles\":{\"en\":\"SeleniumTest_DontTouch\",\"it\":\"SeleniumTest_DontTouch\"},\"typology\":\"user\",\"group\":\"free\",\"pluginCode\":null,\"pluginDesc\":null,\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"testw\",\"used\":0,\"titles\":{\"en\":\"TestWidget\",\"it\":\"TestWidget\"},\"typology\":\"user\",\"group\":\"free\",\"pluginCode\":null,\"pluginDesc\":null,\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"testw_se\",\"used\":0,\"titles\":{\"en\":\"TestWidget_se\",\"it\":\"TestWidget_se\"},\"typology\":\"user\",\"group\":\"free\",\"pluginCode\":null,\"pluginDesc\":null,\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"testwidget2\",\"used\":0,\"titles\":{\"en\":\"TestWidget2\",\"it\":\"TestWidget2\"},\"typology\":\"user\",\"group\":\"free\",\"pluginCode\":null,\"pluginDesc\":null,\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"userprofile_editCurrentUser\",\"used\":0,\"titles\":{\"en\":\"Edit Current User\",\"it\":\"Edita Utente Corrente\"},\"typology\":\"custom\",\"group\":null,\"pluginCode\":null,\"pluginDesc\":null,\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"userprofile_editCurrentUser_password\",\"used\":0,\"titles\":{\"en\":\"Edit Current User Password\",\"it\":\"Edita Password Utente Corrente\"},\"typology\":\"custom\",\"group\":null,\"pluginCode\":null,\"pluginDesc\":null,\"guiFragments\":[],\"hasConfig\":false},{\"code\":\"userprofile_editCurrentUser_profile\",\"used\":0,\"titles\":{\"en\":\"Edit Current User Profile\",\"it\":\"Edita Profilo Utente Corrente\"},\"typology\":\"custom\",\"group\":null,\"pluginCode\":null,\"pluginDesc\":null,\"guiFragments\":[],\"hasConfig\":false}],\"errors\":[],\"metaData\":{\"page\":1,\"pageSize\":100,\"lastPage\":1,\"totalItems\":79,\"sort\":\"code\",\"direction\":\"ASC\",\"filters\":[],\"additionalParams\":{}}}");
    }

    public static PactDslResponse buildGetGroups(PactDslResponse builder) {
        PactDslRequestWithPath optionsRequest = builder.uponReceiving("The Groups OPTIONS Interaction")
                .path("/entando/api/groups")
                .method("OPTIONS")
                .matchQuery("page", "1")
                .matchQuery("pageSize", "0");
        PactDslResponse optionsResponse = optionsResponse(optionsRequest);
        PactDslRequestWithPath request = optionsResponse.uponReceiving("The Groups GET Interaction")
                .path("/entando/api/groups")
                .method("GET")
                .matchQuery("page", "1")
                .matchQuery("pageSize", "0");
        String json = "{\"payload\":[{\"code\":\"testgroup4pact\",\"name\":\"testgroup4pact\"}],\"errors\":[],\"metaData\":{\"page\":1,\"pageSize\":1,\"lastPage\":7,\"totalItems\":7,\"sort\":\"code\",\"direction\":\"ASC\",\"filters\":[],\"additionalParams\":{}}}";
        return standardResponse(request, json);
    }

    public static PactDslResponse buildGetLanguages(PactDslResponse builder) {
        PactDslRequestWithPath request = builder.uponReceiving("The Languages GET Interaction")
                .path("/entando/api/languages")
                .method("GET")
                .matchQuery("page", "1")
                .matchQuery("pageSize", "0");
        return standardResponse(request, "{\"payload\":[{\"code\":\"aa\",\"description\":\"Afar\",\"isActive\":false,\"isDefault\":false},{\"code\":\"ab\",\"description\":\"Abkhazian\",\"isActive\":false,\"isDefault\":false},{\"code\":\"af\",\"description\":\"Afrikaans\",\"isActive\":false,\"isDefault\":false},{\"code\":\"am\",\"description\":\"Amharic\",\"isActive\":false,\"isDefault\":false},{\"code\":\"ar\",\"description\":\"Arabic\",\"isActive\":false,\"isDefault\":false},{\"code\":\"as\",\"description\":\"Assamese\",\"isActive\":false,\"isDefault\":false},{\"code\":\"ay\",\"description\":\"Aymara\",\"isActive\":false,\"isDefault\":false},{\"code\":\"az\",\"description\":\"Azerbaijani\",\"isActive\":false,\"isDefault\":false},{\"code\":\"ba\",\"description\":\"Bashkir\",\"isActive\":false,\"isDefault\":false},{\"code\":\"be\",\"description\":\"Byelorussian\",\"isActive\":false,\"isDefault\":false},{\"code\":\"bg\",\"description\":\"Bulgarian\",\"isActive\":false,\"isDefault\":false},{\"code\":\"bh\",\"description\":\"Bihari\",\"isActive\":false,\"isDefault\":false},{\"code\":\"bi\",\"description\":\"Bislama\",\"isActive\":false,\"isDefault\":false},{\"code\":\"bn\",\"description\":\"Bengali; Bangla\",\"isActive\":false,\"isDefault\":false},{\"code\":\"bo\",\"description\":\"Tibetan\",\"isActive\":false,\"isDefault\":false},{\"code\":\"br\",\"description\":\"Breton\",\"isActive\":false,\"isDefault\":false},{\"code\":\"ca\",\"description\":\"Catalan\",\"isActive\":false,\"isDefault\":false},{\"code\":\"co\",\"description\":\"Corsican\",\"isActive\":false,\"isDefault\":false},{\"code\":\"cs\",\"description\":\"Czech\",\"isActive\":false,\"isDefault\":false},{\"code\":\"cy\",\"description\":\"Welsh\",\"isActive\":false,\"isDefault\":false},{\"code\":\"da\",\"description\":\"Danish\",\"isActive\":false,\"isDefault\":false},{\"code\":\"de\",\"description\":\"German\",\"isActive\":false,\"isDefault\":false},{\"code\":\"dz\",\"description\":\"Bhutani\",\"isActive\":false,\"isDefault\":false},{\"code\":\"el\",\"description\":\"Greek\",\"isActive\":false,\"isDefault\":false},{\"code\":\"en\",\"description\":\"English\",\"isActive\":true,\"isDefault\":true},{\"code\":\"eo\",\"description\":\"Esperanto\",\"isActive\":false,\"isDefault\":false},{\"code\":\"es\",\"description\":\"Spanish\",\"isActive\":false,\"isDefault\":false},{\"code\":\"et\",\"description\":\"Estonian\",\"isActive\":false,\"isDefault\":false},{\"code\":\"eu\",\"description\":\"Basque\",\"isActive\":false,\"isDefault\":false},{\"code\":\"fa\",\"description\":\"Persian\",\"isActive\":false,\"isDefault\":false},{\"code\":\"fi\",\"description\":\"Finnish\",\"isActive\":false,\"isDefault\":false},{\"code\":\"fj\",\"description\":\"Fiji\",\"isActive\":false,\"isDefault\":false},{\"code\":\"fo\",\"description\":\"Faroese\",\"isActive\":false,\"isDefault\":false},{\"code\":\"fr\",\"description\":\"French\",\"isActive\":false,\"isDefault\":false},{\"code\":\"fy\",\"description\":\"Frisian\",\"isActive\":false,\"isDefault\":false},{\"code\":\"ga\",\"description\":\"Irish\",\"isActive\":false,\"isDefault\":false},{\"code\":\"gd\",\"description\":\"Scots Gaelic\",\"isActive\":false,\"isDefault\":false},{\"code\":\"gl\",\"description\":\"Galician\",\"isActive\":false,\"isDefault\":false},{\"code\":\"gn\",\"description\":\"Guarani\",\"isActive\":false,\"isDefault\":false},{\"code\":\"gu\",\"description\":\"Gujarati\",\"isActive\":false,\"isDefault\":false},{\"code\":\"ha\",\"description\":\"Hausa\",\"isActive\":false,\"isDefault\":false},{\"code\":\"he\",\"description\":\"Hebrew (formerly iw)\",\"isActive\":false,\"isDefault\":false},{\"code\":\"hi\",\"description\":\"Hindi\",\"isActive\":false,\"isDefault\":false},{\"code\":\"hr\",\"description\":\"Croatian\",\"isActive\":false,\"isDefault\":false},{\"code\":\"hu\",\"description\":\"Hungarian\",\"isActive\":false,\"isDefault\":false},{\"code\":\"hy\",\"description\":\"Armenian\",\"isActive\":false,\"isDefault\":false},{\"code\":\"ia\",\"description\":\"Interlingua\",\"isActive\":false,\"isDefault\":false},{\"code\":\"id\",\"description\":\"Indonesian (formerly in)\",\"isActive\":false,\"isDefault\":false},{\"code\":\"ie\",\"description\":\"Interlingue\",\"isActive\":false,\"isDefault\":false},{\"code\":\"ik\",\"description\":\"Inupiak\",\"isActive\":false,\"isDefault\":false},{\"code\":\"is\",\"description\":\"Icelandic\",\"isActive\":false,\"isDefault\":false},{\"code\":\"it\",\"description\":\"Italian\",\"isActive\":true,\"isDefault\":false},{\"code\":\"iu\",\"description\":\"Inuktitut\",\"isActive\":false,\"isDefault\":false},{\"code\":\"ja\",\"description\":\"Japanese\",\"isActive\":false,\"isDefault\":false},{\"code\":\"jw\",\"description\":\"Javanese\",\"isActive\":false,\"isDefault\":false},{\"code\":\"ka\",\"description\":\"Georgian\",\"isActive\":false,\"isDefault\":false},{\"code\":\"kk\",\"description\":\"Kazakh\",\"isActive\":false,\"isDefault\":false},{\"code\":\"kl\",\"description\":\"Greenlandic\",\"isActive\":false,\"isDefault\":false},{\"code\":\"km\",\"description\":\"Cambodian\",\"isActive\":false,\"isDefault\":false},{\"code\":\"kn\",\"description\":\"Kannada\",\"isActive\":false,\"isDefault\":false},{\"code\":\"ko\",\"description\":\"Korean\",\"isActive\":false,\"isDefault\":false},{\"code\":\"ks\",\"description\":\"Kashmiri\",\"isActive\":false,\"isDefault\":false},{\"code\":\"ku\",\"description\":\"Kurdish\",\"isActive\":false,\"isDefault\":false},{\"code\":\"ky\",\"description\":\"Kirghiz\",\"isActive\":false,\"isDefault\":false},{\"code\":\"la\",\"description\":\"Latin\",\"isActive\":false,\"isDefault\":false},{\"code\":\"ln\",\"description\":\"Lingala\",\"isActive\":false,\"isDefault\":false},{\"code\":\"lo\",\"description\":\"Laothian\",\"isActive\":false,\"isDefault\":false},{\"code\":\"lt\",\"description\":\"Lithuanian\",\"isActive\":false,\"isDefault\":false},{\"code\":\"lv\",\"description\":\"Latvian, Lettish\",\"isActive\":false,\"isDefault\":false},{\"code\":\"mg\",\"description\":\"Malagasy\",\"isActive\":false,\"isDefault\":false},{\"code\":\"mi\",\"description\":\"Maori\",\"isActive\":false,\"isDefault\":false},{\"code\":\"mk\",\"description\":\"Macedonian\",\"isActive\":false,\"isDefault\":false},{\"code\":\"ml\",\"description\":\"Malayalam\",\"isActive\":false,\"isDefault\":false},{\"code\":\"mn\",\"description\":\"Mongolian\",\"isActive\":false,\"isDefault\":false},{\"code\":\"mo\",\"description\":\"Moldavian\",\"isActive\":false,\"isDefault\":false},{\"code\":\"mr\",\"description\":\"Marathi\",\"isActive\":false,\"isDefault\":false},{\"code\":\"ms\",\"description\":\"Malay\",\"isActive\":false,\"isDefault\":false},{\"code\":\"mt\",\"description\":\"Maltese\",\"isActive\":false,\"isDefault\":false},{\"code\":\"my\",\"description\":\"Burmese\",\"isActive\":false,\"isDefault\":false},{\"code\":\"na\",\"description\":\"Nauru\",\"isActive\":false,\"isDefault\":false},{\"code\":\"ne\",\"description\":\"Nepali\",\"isActive\":false,\"isDefault\":false},{\"code\":\"nl\",\"description\":\"Dutch\",\"isActive\":false,\"isDefault\":false},{\"code\":\"no\",\"description\":\"Norwegian\",\"isActive\":false,\"isDefault\":false},{\"code\":\"oc\",\"description\":\"Occitan\",\"isActive\":false,\"isDefault\":false},{\"code\":\"om\",\"description\":\"(Afan) Oromo\",\"isActive\":false,\"isDefault\":false},{\"code\":\"or\",\"description\":\"Oriya\",\"isActive\":false,\"isDefault\":false},{\"code\":\"pa\",\"description\":\"Punjabi\",\"isActive\":false,\"isDefault\":false},{\"code\":\"pl\",\"description\":\"Polish\",\"isActive\":false,\"isDefault\":false},{\"code\":\"ps\",\"description\":\"Pashto, Pushto\",\"isActive\":false,\"isDefault\":false},{\"code\":\"pt\",\"description\":\"Portuguese\",\"isActive\":false,\"isDefault\":false},{\"code\":\"qu\",\"description\":\"Quechua\",\"isActive\":false,\"isDefault\":false},{\"code\":\"rm\",\"description\":\"Rhaeto-Romance\",\"isActive\":false,\"isDefault\":false},{\"code\":\"rn\",\"description\":\"Kirundi\",\"isActive\":false,\"isDefault\":false},{\"code\":\"ro\",\"description\":\"Romanian\",\"isActive\":false,\"isDefault\":false},{\"code\":\"ru\",\"description\":\"Russian\",\"isActive\":false,\"isDefault\":false},{\"code\":\"rw\",\"description\":\"Kinyarwanda\",\"isActive\":false,\"isDefault\":false},{\"code\":\"sa\",\"description\":\"Sanskrit\",\"isActive\":false,\"isDefault\":false},{\"code\":\"sd\",\"description\":\"Sindhi\",\"isActive\":false,\"isDefault\":false},{\"code\":\"sg\",\"description\":\"Sangho\",\"isActive\":false,\"isDefault\":false},{\"code\":\"sh\",\"description\":\"Serbo-Croatian\",\"isActive\":false,\"isDefault\":false},{\"code\":\"si\",\"description\":\"Sinhalese\",\"isActive\":false,\"isDefault\":false},{\"code\":\"sk\",\"description\":\"Slovak\",\"isActive\":false,\"isDefault\":false},{\"code\":\"sl\",\"description\":\"Slovenian\",\"isActive\":false,\"isDefault\":false},{\"code\":\"sm\",\"description\":\"Samoan\",\"isActive\":false,\"isDefault\":false},{\"code\":\"sn\",\"description\":\"Shona\",\"isActive\":false,\"isDefault\":false},{\"code\":\"so\",\"description\":\"Somali\",\"isActive\":false,\"isDefault\":false},{\"code\":\"sq\",\"description\":\"Albanian\",\"isActive\":false,\"isDefault\":false},{\"code\":\"sr\",\"description\":\"Serbian\",\"isActive\":false,\"isDefault\":false},{\"code\":\"ss\",\"description\":\"Siswati\",\"isActive\":false,\"isDefault\":false},{\"code\":\"st\",\"description\":\"Sesotho\",\"isActive\":false,\"isDefault\":false},{\"code\":\"su\",\"description\":\"Sundanese\",\"isActive\":false,\"isDefault\":false},{\"code\":\"sv\",\"description\":\"Swedish\",\"isActive\":false,\"isDefault\":false},{\"code\":\"sw\",\"description\":\"Swahili\",\"isActive\":false,\"isDefault\":false},{\"code\":\"ta\",\"description\":\"Tamil\",\"isActive\":false,\"isDefault\":false},{\"code\":\"te\",\"description\":\"Telugu\",\"isActive\":false,\"isDefault\":false},{\"code\":\"tg\",\"description\":\"Tajik\",\"isActive\":false,\"isDefault\":false},{\"code\":\"th\",\"description\":\"Thai\",\"isActive\":false,\"isDefault\":false},{\"code\":\"ti\",\"description\":\"Tigrinya\",\"isActive\":false,\"isDefault\":false},{\"code\":\"tk\",\"description\":\"Turkmen\",\"isActive\":false,\"isDefault\":false},{\"code\":\"tl\",\"description\":\"Tagalog\",\"isActive\":false,\"isDefault\":false},{\"code\":\"tn\",\"description\":\"Setswana\",\"isActive\":false,\"isDefault\":false},{\"code\":\"to\",\"description\":\"Tonga\",\"isActive\":false,\"isDefault\":false},{\"code\":\"tr\",\"description\":\"Turkish\",\"isActive\":false,\"isDefault\":false},{\"code\":\"ts\",\"description\":\"Tsonga\",\"isActive\":false,\"isDefault\":false},{\"code\":\"tt\",\"description\":\"Tatar\",\"isActive\":false,\"isDefault\":false},{\"code\":\"tw\",\"description\":\"Twi\",\"isActive\":false,\"isDefault\":false},{\"code\":\"ug\",\"description\":\"Uighur\",\"isActive\":false,\"isDefault\":false},{\"code\":\"uk\",\"description\":\"Ukrainian\",\"isActive\":false,\"isDefault\":false},{\"code\":\"ur\",\"description\":\"Urdu\",\"isActive\":false,\"isDefault\":false},{\"code\":\"uz\",\"description\":\"Uzbek\",\"isActive\":false,\"isDefault\":false},{\"code\":\"vi\",\"description\":\"Vietnamese\",\"isActive\":false,\"isDefault\":false},{\"code\":\"vo\",\"description\":\"Volapuk\",\"isActive\":false,\"isDefault\":false},{\"code\":\"wo\",\"description\":\"Wolof\",\"isActive\":false,\"isDefault\":false},{\"code\":\"xh\",\"description\":\"Xhosa\",\"isActive\":false,\"isDefault\":false},{\"code\":\"yi\",\"description\":\"Yiddish (formerly ji)\",\"isActive\":false,\"isDefault\":false},{\"code\":\"yo\",\"description\":\"Yoruba\",\"isActive\":false,\"isDefault\":false},{\"code\":\"za\",\"description\":\"Zhuang\",\"isActive\":false,\"isDefault\":false},{\"code\":\"zh\",\"description\":\"Chinese - Traditional\",\"isActive\":false,\"isDefault\":false},{\"code\":\"zhs\",\"description\":\"Chinese - Simplified\",\"isActive\":false,\"isDefault\":false},{\"code\":\"zu\",\"description\":\"Zulu\",\"isActive\":false,\"isDefault\":false}],\"errors\":[],\"metaData\":{\"page\":1,\"pageSize\":0,\"lastPage\":1,\"totalItems\":140,\"sort\":\"code\",\"direction\":\"ASC\",\"filters\":[],\"additionalParams\":{}}}");
    }

    public static PactDslResponse buildGetWidgetToPut(PactDslResponse builder) {
        PactDslRequestWithPath optionsRequest = builder.uponReceiving("The Groups OPTIONS Interaction")
                .path("/entando/api/widgets/pct")
                .method("OPTIONS")
                .headers("Access-control-request-method", "GET");
        PactDslResponse optionsResponse = optionsResponse(optionsRequest);
        PactDslRequestWithPath request = optionsResponse.
                uponReceiving("The User Query GET Interaction")
                .path("/entando/api/widgets/pct")
                .method("GET");
        return standardResponse(request, "{\"payload\":{\"code\":\"pct\",\"used\":0,\"titles\":{\"en\":\"pct\",\"it\":\"pct\"},\"typology\":\"user\",\"group\":\"gruppo_prova\",\"pluginCode\":null,\"pluginDesc\":null,\"guiFragments\":[{\"code\":\"pct\",\"customUi\":\"w\",\"defaultUi\":null}],\"hasConfig\":false},\"errors\":[],\"metaData\":{}}");
    }

    public static PactDslResponse buildPutWidget(PactDslResponse builder) {
        PactDslRequestWithPath request = builder.uponReceiving("The Groups OPTIONS Interaction")
                .path("/entando/api/widgets/pct")
                .method("PUT");

        return standardResponse(request, "{\"payload\":{\"code\":\"pct\",\"used\":0,\"titles\":{\"en\":\"pct\",\"it\":\"pct\"},\"typology\":\"user\",\"group\":\"gruppo_prova\",\"pluginCode\":null,\"pluginDesc\":null,\"guiFragments\":[{\"code\":\"pct\",\"customUi\":\"w\",\"defaultUi\":null}],\"hasConfig\":false},\"errors\":[],\"metaData\":{}}");
    }

    @Test
    public void runTest() throws InterruptedException {

        String code = "pct";
        SimpleTable table = new SimpleTable(dTWidgetPage.getTables().get("user"));
        WebElement cell = table.getCell(code, "Name",
                "Name");
        cell.findElement(By.xpath(".//a")).click();
        dTWidgetEditPage.getSaveButton().click();
    }
}
